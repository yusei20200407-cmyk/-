<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>æ°—ã«ãªã‚‹ã‚ã®äººã¨ã®ç›¸æ€§ã¯ï¼Ÿç›¸æ€§è¨ºæ–­ãƒ†ã‚¹ãƒˆ</title>
  <style>
    body {
      font-family: "Arial", "Hiragino Kaku Gothic ProN", sans-serif;
      margin: 0;
      padding: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, #ffe6f0, #e6f0ff);
    }

    .container {
      background: white;
      padding: 30px;
      border-radius: 16px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
      text-align: center;
      width: 350px;
      animation: fadeIn 1s ease;
    }

    h1 {
      color: #d6336c;
      margin-bottom: 20px;
    }

    input {
      width: 80%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 16px;
    }

    button {
      background: #ff4d6d;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s;
    }
    button:hover {
      background: #ff1a4d;
      box-shadow: 0 0 10px #ff4d6d;
    }

    #result {
      margin-top: 25px;
      font-size: 20px;
      font-weight: bold;
      color: #333;
      white-space: pre-line; /* æ”¹è¡Œã‚’è¡¨ç¤º */
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ’˜ æ°—ã«ãªã‚‹ã‚ã®äººã¨ã®ç›¸æ€§ã¯ï¼Ÿç›¸æ€§è¨ºæ–­ãƒ†ã‚¹ãƒˆ ğŸ’˜</h1>
    <form id="form">
      <input type="text" id="userName" placeholder="ã‚ãªãŸã®åå‰" required><br>
      <input type="text" id="partnerName" placeholder="ç›¸æ‰‹ã®åå‰" required><br>
      <button type="submit">è¨ºæ–­ã™ã‚‹</button>
    </form>
    <p id="result"></p>
  </div>

 <script>
  const scriptURL = "https://script.google.com/macros/s/AKfycbw19rkrPove1RsDohJmO7uDC9XGOaQBzJ-zxiUjExfGoXgzNBvH80jObtzNUBTTF2fE/exec"; // Apps Script ã®URLã«å·®ã—æ›¿ãˆ

  document.getElementById("form").addEventListener("submit", function(e) {
    e.preventDefault();

    const userName = document.getElementById("userName").value.trim();
    const partnerName = document.getElementById("partnerName").value.trim();

    // ---- åå‰ã‹ã‚‰ãƒãƒƒã‚·ãƒ¥å€¤ã‚’ä½œã£ã¦å›ºå®šã‚¹ã‚³ã‚¢ã«ã™ã‚‹ ----
    const combined = userName + partnerName;
    let hash = 0;
    for (let i = 0; i < combined.length; i++) {
      hash = (hash * 31 + combined.charCodeAt(i)) % 1000000;
    }
    const rawScore = Math.round((hash % 1001) / 10); // 0.0ã€œ100.0%

    // ---- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆ5ï¼…ã”ã¨ã«21æ®µéšï¼‰ ----
    const messages = [
      "0ã€œ4.9%: ã†ãƒ¼ã‚“â€¦ã»ã¼ã‚¼ãƒ­ğŸ˜­",
      "5ã€œ9.9%: ã¾ã ãƒãƒ£ãƒ³ã‚¹ã¯å°ã•ã„ã‹ã‚‚ğŸ’¦",
      "10ã€œ14.9%: ã¡ã‚‡ã£ã¨å³ã—ã„ã‹ã‚‚â€¦ğŸ¤”",
      "15ã€œ19.9%: å‹é”ã¨ã—ã¦ã¯ã‚¢ãƒªã‹ã‚‚ğŸ‘Œ",
      "20ã€œ24.9%: ã¾ã‚ã¾ã‚ã®ç›¸æ€§ï¼âœ¨",
      "25ã€œ29.9%: æ„å¤–ã¨æ°—ãŒåˆã†ã‹ã‚‚ï¼ŸğŸ˜",
      "30ã€œ34.9%: è‰¯ã„æ„Ÿã˜ã®ç›¸æ€§ï¼ğŸ€",
      "35ã€œ39.9%: ã¾ã ã¾ã ä¼¸ã³ã—ã‚ã‚¢ãƒªğŸ”¥",
      "40ã€œ44.9%: æ™®é€šã®ç›¸æ€§ğŸ™‚",
      "45ã€œ49.9%: åŠåˆ†ã¯é‹å‘½ã‹ã‚‚ï¼ï¼ŸğŸ¤¯",
      "50ã€œ54.9%: ã¡ã‚‡ã†ã©çœŸã‚“ä¸­ï¼ğŸµ",
      "55ã€œ59.9%: ãªã‹ãªã‹ã„ã„æ„Ÿã˜âœ¨",
      "60ã€œ64.9%: å¥½ãã«ãªã£ãŸã‚‰æ­¢ã¾ã‚‰ãªã„ğŸ’˜",
      "65ã€œ69.9%: ã‹ãªã‚Šç›¸æ€§ã„ã„ã­ğŸ˜",
      "70ã€œ74.9%: æ‹äººãƒ¬ãƒ™ãƒ«ğŸ’–",
      "75ã€œ79.9%: ã‚‚ã¯ã‚„é‹å‘½ï¼ï¼ŸğŸŒŸ",
      "80ã€œ84.9%: å¥‡è·¡ã®ç›¸æ€§ï¼ğŸ’˜",
      "85ã€œ89.9%: æœ€é«˜ã«ãŠä¼¼åˆã„ğŸ‰",
      "90ã€œ94.9%: å®Œç’§ã«è¿‘ã„ç›¸æ€§âœ¨",
      "95ã€œ99.9%: ã»ã¼100ï¼…ï¼ç¥ãƒ¬ãƒ™ãƒ«ğŸ’",
      "100%: å®Œç’§ã™ãã‚‹é‹å‘½ã®ç›¸æ‰‹ï¼ğŸ’"
    ];

    const index = Math.floor(rawScore / 5);
    const message = messages[index];

    const resultText = `ç›¸æ€§ã¯ ${rawScore}% ã§ã™ï¼\n${message}`;

    document.getElementById("result").innerText =
      `${userName} ã•ã‚“ã¨ ${partnerName} ã•ã‚“ã®è¨ºæ–­çµæœï¼š\n${resultText}`;

    // ---- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«ä¿å­˜ ----
    fetch(scriptURL, {
      method: "POST",
      body: JSON.stringify({ userName, partnerName, result: resultText })
    });
  });
</script>
